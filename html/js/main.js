function load_page(t){$.get(t,function(o){$(".goods").html($(o).find(".goods").html()),$(".social-networks").html($(o).find(".social-networks").html()),$(".button-block").html($(o).find(".button-block").html()),document.title=$(o).filter("title").text(),history.pushState(null,null,t)})}function open_popup(t,o,p,i,n,e,s){popUp.openWindow("#"+t),$("#"+t+" #kol_text").html(p),$("#"+t+" #kol").val(o),i>0&&$("#"+t+" #but_text").val("Pay "+i+"$"),n&&$("#"+t+' input[name="link"]').attr("placeholder",n),e&&($("#"+t+" #price1").val(i),$("#"+t+" #price2").val(e),s&&$("#"+t+" #but_text").val("Pay "+e+"$"))}function send_form(t){$.post("",$(t).serialize(),function(t){res=$.parseJSON(t),"Ok"==res.result?(res.redirect&&(window.location=res.redirect),res.close_modal&&$("#"+res.close_modal).hide(),res.open_modal&&open_popup(res.open_modal)):"Error"==res.result&&alert(res.text)})}function calc_autolikes_in_form(t){$("#popUp_3 #kol_text").html(parseInt($("#popUp_3 #kol").val().replace(" ","")/t)+" Likes per post"),parseInt($("#popUp_3 #kol").val().replace(" ","")/t)<100&&($("#popUp_3 #count").val(Math.ceil($("#popUp_3 #kol").val().replace(" ","")/100)),$("#popUp_3 #kol_text").html(parseInt($("#popUp_3 #kol").val().replace(" ","")/parseInt($("#popUp_3 #kol").val()))+" Likes per post"))}window.onload=function(){page.init(),popUp.init()};var page={x_sm:768,x:null,y:null};page.init=function(){page.dimensioning(),page.events(),$(window).resize(function(){page.dimensioning(),page.events()})},page.dimensioning=function(){this.x=window.innerWidth,this.y=window.innerHeight},page.events=function(){this.x_sm,this.x};var informer={active:"active",bl:".informer",tim:800,int:4e3};informer.init=function(){this.events()},informer.events=function(){var t=setTimeout(function(){informer.open(),clearTimeout(t)},1e3)},informer.open=function(){$(this.bl).addClass(informer.active),page.x_sm<=page.x?$(this.bl).animate({opacity:"1",bottom:130},informer.tim):$(this.bl).animate({opacity:"1",bottom:90},informer.tim);var t=setTimeout(function(){informer.close(),clearTimeout(t)},this.int)},informer.close=function(){$(this.bl).animate({opacity:"0",bottom:0},this.tim,function(){$(informer.bl).removeClass(informer.active)})};var popUp={active:"active",error:"error",blur:"blur",popUp:"openPopUp",inactive_butt:"button--inactive",id_add_name:"popUp_username",input:".inputPopup",input_name:".input-name",input_email:".input-email",button_open:".price-box .button",button_switching:".popUp-switching__button",button_addInput:"inputAdd",button_closeInput:"inputClose",button_submit:".popUp-butt .button",button_close:".popUp-close",window:".popUp",window_bl:".popUp__block",window_box:".popUp__window",window_price:".popUp--price",block:".popUp-block",switching:".popUp-switching",cont_box:".popUp-cont__box",cont_box_created:".popUp-cont__box--created",limit_box:10,tim:150,mask_name:/^[а-яa-z0-9]{3,}/i,mask_email:/^[а-яa-z0-9]+([\.-]?[а-яa-z]+)*@[а-яa-z]+([\.-]?[а-яa-z]+)*(\.[а-яa-z]{2,6})+$/i};popUp.init=function(){this.events()},popUp.events=function(){$("body").on("click",function(t){$(t.target).closest(popUp.window_box+", "+popUp.button_open+", "+popUp.cont_box).length||popUp.closeWindow()}),$("body").on("click",this.button_close,function(t){popUp.closeWindow()}),$("body").on("click","."+this.button_addInput,function(t){popUp.addBox($(this))}),$("body").on("click","."+this.button_closeInput,function(t){$(this).parent().remove()}),$("body").on("click",this.button_switching,function(t){$(this).parents(popUp.switching).find(popUp.button_switching).removeClass(popUp.active),$(this).addClass(popUp.active)}),$("body").on("click",this.button_submit,function(t){popUp.validation_test()}),$("body").on("focusin",this.input,function(t){$(this).parents(popUp.cont_box).hasClass(popUp.error)&&$(this).parents(popUp.cont_box).removeClass(popUp.error)})},popUp.openWindow=function(t){$(t).fadeIn(popUp.tim),$(t).addClass(popUp.active),$("body").addClass(popUp.blur),$("body").addClass(popUp.popUp)},popUp.closeWindow=function(){$(this.window+"."+this.active).fadeOut(popUp.tim,function(){$("body").removeClass(popUp.popUp),$(popUp.window).removeClass(popUp.active),popUp.cleaning()}),$("body").removeClass(popUp.blur)},popUp.addBox=function(t){if(!this.limitBox(t)){var o=popUp.templateBox();$(this.block).prepend(o)}},popUp.limitBox=function(t){return t.parents(this.window).find(this.input_name).length>=this.limit_box},popUp.templateBox=function(){return'<div class="popUp-cont__box popUp-cont__box--created"><input class="inputPopup input-name" type="text" name="link[]" placeholder="Link to your photo or video" /><div class="inputClose"></div></div>'},popUp.cleaning=function(){this.window,this.active;$(this.cont_box_created).remove(),$(this.input).val(""),$(this.cont_box).removeClass(popUp.error),$(this.button_switching).removeClass(this.active),$(this.button_switching).eq(0).addClass(this.active);for(var t=0;t<$(this.switching).length;t++)$(this.switching).eq(t).find(this.button_switching).removeClass(this.active),$(this.switching).eq(t).find(this.button_switching).eq(0).addClass(this.active)},popUp.validation_test=function(){for(var t=this.window+"."+this.active,o=$(this.window+"."+this.active+" "+this.input_name),p=$(this.window+"."+this.active+" "+this.input_email),i=0;i<o.length;i++)popUp.mask_name.test(o.eq(i).val())?o.eq(i).parents(popUp.cont_box).removeClass(popUp.error):o.eq(i).parents(popUp.cont_box).addClass(popUp.error);popUp.mask_email.test(p.val())?p.parents(popUp.cont_box).removeClass(popUp.error):p.parents(popUp.cont_box).addClass(popUp.error),$(t+" "+this.cont_box+"."+this.error).length||this.validation_success()},popUp.validation_success=function(){console.log("validation success")};
//# sourceMappingURL=maps/main.js.map
